<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AppliedAI Companion</title>
    <link rel="stylesheet" href="../styles.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <h1>AppliedAI Companion</h1>
            <nav class="nav-items">
                <a class="nav-item active" data-view="dashboard" data-title="Dashboard">Dashboard</a>
                <a class="nav-item" data-view="chatbot" data-title="Chatbot Helper">Chatbot <img src="../assets/google_ai_logo.svg" alt="Powered by Google AI" class="google-ai-logo"></a>
                <hr class="nav-divider">
                <div class="nav-category">
                    <a class="nav-item nav-toggle">Toolbox</a>
                    <div class="sub-nav">
                        <a class="nav-item sub-item" data-view="aiImageStudio" data-title="AI Image Studio">AI Image Studio</a>
                        <a class="nav-item sub-item" data-view="pdfConversions" data-title="PDF Conversions">PDF Conversions</a>
                        <a class="nav-item sub-item" data-view="jsonConversions" data-title="JSON Conversions">JSON Conversions</a>
                        <a class="nav-item sub-item" data-view="markdownConversions" data-title="Markdown Conversions">Markdown Conversions</a>
                        <a class="nav-item sub-item" data-view="webScrapers" data-title="Web Scrapers">Web Scrapers</a>
                        <a class="nav-item sub-item" data-view="fileManagement" data-title="File Management">File Management</a>
                    </div>
                </div>
                <hr class="nav-divider">
                <a class="nav-item" data-view="help" data-title="Contact Support">Contact Support</a>
            </nav>
            <p class="footer">Â© 2025 AppliedAI</p>
        </aside>
        
        <main>
            <header>
                <h2 id="pageTitle">Dashboard</h2>
            </header>
            
            <div id="loadingIndicator" class="loading-bar hidden"></div>
            <div id="statusMessage" class="hidden"></div>

            <section id="dashboardView" class="view-section dashboard-container active">
                <div class="tool-section">
                    <h3>Output Settings</h3>
                    <p>All generated files will be saved to this folder.</p>
                    <button id="openOutputFolderBtn" class="btn">Open Folder</button>
                    <button id="changeOutputBtn" class="btn">Change Folder</button>
                    <button id="resetOutputBtn" class="btn">Reset to Default</button>
                    <p>Current Path: <span id="outputPath">Loading...</span></p>
                    <div id="shredOptions" style="margin-top: 10px;">
                        <label><input type="checkbox" id="shredOnExit" checked> Shred output folder on exit?</label>
                        <p style="color: red; font-weight: bold;">Warning: This will permanently delete all files in the output folder when you close the app.</p>
                        <button id="shredNowBtn" class="btn btn-secondary">Shred Output Folder Now</button>
                    </div>
                </div>

                <div class="tool-section">
                    <h3>Chatbot Knowledge Base</h3>
                    <p>Upload Markdown (.md) files for the chatbot to use as a knowledge source.</p>
                    <div id="dashboard-knowledge-files-list" class="knowledge-file-list-container"></div>
                    <div class="controls">
                        <button id="addToKnowledgeBtn" class="btn">Add Knowledge File(s)</button>
                        <button id="clearKnowledgeBtn" class="btn btn-secondary">Clear All Knowledge</button>
                    </div>
                </div>

                <div class="tool-section">
                    <h3>Account Balance</h3>
                    <p>AI Coins are used for AI-powered features.</p>
                    <p><span id="coinCount">0.0000</span> AI Coins</p>
                </div>
            </section>

            <!-- All other view sections (.e.g, pdfConversionsView, aiImageStudioView, etc.) go here -->
            
        </main>
    </div>

    <!-- NEW: Progress Bar Modal -->
    <div id="progressModal" class="progress-modal-overlay hidden">
        <div class="progress-container">
            <h3 id="progress-title">Processing...</h3>
            <p id="progress-message">Please wait while the task completes.</p>
            <div id="progress-bar">
                <div id="progress-bar-inner"></div>
            </div>
            <span id="progress-percentage">0%</span>
        </div>
    </div>

    <script type="module" src="companion_renderer.js"></script>
</body>
</html>
